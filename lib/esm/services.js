import{_ as e,a as r,b as n,c as t,d as o}from"./_rollupPluginBabelHelpers-f80d50e6.js";import{init as i,configureScope as s,captureException as c,addBreadcrumb as a,Severity as u}from"@sentry/browser";import{init as l,identify as f,people as v,track as d,register as h}from"mixpanel-browser";import y from"universal-analytics";var E=function(){function n(){r(this,n)}return e(n,[{key:"configureContext",value:function(){throw Error("Subclass should fill configureContext")}},{key:"captureError",value:function(){throw Error("Subclass should fill captureErrror")}},{key:"addBreadcrumb",value:function(){throw Error("Subclass should fill addBreadcrumb")}}]),n}(),p=function(l){function f(e){var n;r(this,f),n=t(this,o(f).call(this));var s="production"===process.env.NODE_ENV;return void 0===e?(console.warn("Missing FE DSN for Sentry. Set the SENTRY_FE_DSN env var correctly to configure error reporting"),t(n)):(console.info("Sentry Error Reporting has been initialized"),i({dsn:e,debug:!s}),n)}return n(f,E),e(f,[{key:"configureContext",value:function(e,r){s((function(n){n.setUser({id:e,email:r})}))}},{key:"captureError",value:function(e){c(e)}},{key:"addBreadcrumb",value:function(e,r){a({category:e,message:r,level:u.Error})}}]),f}(),k=function(){function n(e){r(this,n),this.providers=[new p(e)]}return e(n,[{key:"configureContext",value:function(e,r){this.providers.forEach((function(n){n.configureContext(e,r)}))}},{key:"captureError",value:function(e){this.providers.forEach((function(r){r.captureError(e)}))}},{key:"addBreadcrumb",value:function(e,r){this.providers.forEach((function(n){n.addBreadcrumb(e,r)}))}}]),n}(),g={MixPanelAnalytics:function(){function n(e){return r(this,n),"production"===process.env.NODE_ENV&&void 0!==e?(l(e),void console.info("Mix Panel has been initialized")):void console.warn("Missing token for Mix Panel. Set the MIXPANEL_TOKEN env var correctly to configure analyitcs")}return e(n,[{key:"setUser",value:function(e,r){f(e),v.set(r)}},{key:"trackEvent",value:function(e,r){d(e,r)}},{key:"trackPage",value:function(e,r){d(e,r)}},{key:"register",value:function(e){h(e)}}]),n}(),GoogleAnalytics:function(){function n(e){return r(this,n),"production"===process.env.NODE_ENV&&void 0!==e?(this.token=e,this.visitor=y(e),void console.info("Google Analytics has been initialized")):void console.warn("Missing token for GA. Set the GA_TOKEN env var correctly to configure analyitcs")}return e(n,[{key:"trackPage",value:function(e){this.visitor.pageview(e).send()}},{key:"trackEvent",value:function(e,r){this.visitor.event(e,r).send()}},{key:"register",value:function(e){var r=this;e.id&&(this.visitor=y(this.token,e.id,{strictCidFormat:!1,http:!0}),delete e.id),Object.keys(e).forEach((function(n){r.visitor.set(n,e[n])}))}}]),n}()};export{g as AnalyticsService,k as ErrorReportingService,p as SentryErrorReporting};
