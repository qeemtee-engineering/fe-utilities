"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=require("./_rollupPluginBabelHelpers-dbbe668e.js"),t=require("@sentry/browser"),n=require("mixpanel-browser"),i=(e=require("universal-analytics"))&&"object"==typeof e&&"default"in e?e.default:e,o=function(e){function n(e){var i;r._classCallCheck(this,n),i=r._possibleConstructorReturn(this,r._getPrototypeOf(n).call(this));var o="production"===process.env.NODE_ENV;return void 0===e?(console.warn("Missing FE DSN for Sentry. Set the SENTRY_FE_DSN env var correctly to configure error reporting"),r._possibleConstructorReturn(i)):(console.info("Sentry Error Reporting has been initialized"),t.init({dsn:e,debug:!o}),i)}return r._inherits(n,e),r._createClass(n,[{key:"configureContext",value:function(e,r){t.configureScope((function(t){t.setUser({id:e,email:r})}))}},{key:"captureError",value:function(e){t.captureException(e)}},{key:"addBreadcrumb",value:function(e,r){t.addBreadcrumb({category:e,message:r,level:t.Severity.Error})}}]),n}(function(){function e(){r._classCallCheck(this,e)}return r._createClass(e,[{key:"configureContext",value:function(){throw Error("Subclass should fill configureContext")}},{key:"captureError",value:function(){throw Error("Subclass should fill captureErrror")}},{key:"addBreadcrumb",value:function(){throw Error("Subclass should fill addBreadcrumb")}}]),e}()),s=function(){function e(t){r._classCallCheck(this,e),this.providers=[new o(t)]}return r._createClass(e,[{key:"configureContext",value:function(e,r){this.providers.forEach((function(t){t.configureContext(e,r)}))}},{key:"captureError",value:function(e){this.providers.forEach((function(r){r.captureError(e)}))}},{key:"addBreadcrumb",value:function(e,r){this.providers.forEach((function(t){t.addBreadcrumb(e,r)}))}}]),e}(),c={MixPanelAnalytics:function(){function e(t){return r._classCallCheck(this,e),"production"===process.env.NODE_ENV&&void 0!==t?(n.init(t),void console.info("Mix Panel has been initialized")):void console.warn("Missing token for Mix Panel. Set the MIXPANEL_TOKEN env var correctly to configure analyitcs")}return r._createClass(e,[{key:"setUser",value:function(e,r){n.identify(e),n.people.set(r)}},{key:"trackEvent",value:function(e,r){n.track(e,r)}},{key:"trackPage",value:function(e,r){n.track(e,r)}},{key:"register",value:function(e){n.register(e)}}]),e}(),GoogleAnalytics:function(){function e(t){return r._classCallCheck(this,e),"production"===process.env.NODE_ENV&&void 0!==t?(this.token=t,this.visitor=i(t),void console.info("Google Analytics has been initialized")):void console.warn("Missing token for GA. Set the GA_TOKEN env var correctly to configure analyitcs")}return r._createClass(e,[{key:"trackPage",value:function(e){this.visitor.pageview(e).send()}},{key:"trackEvent",value:function(e,r){this.visitor.event(e,r).send()}},{key:"register",value:function(e){var r=this;e.id&&(this.visitor=i(this.token,e.id,{strictCidFormat:!1,http:!0}),delete e.id),Object.keys(e).forEach((function(t){r.visitor.set(t,e[t])}))}}]),e}()};exports.AnalyticsService=c,exports.ErrorReportingService=s,exports.SentryErrorReporting=o;
